javascript:
  function submitConfig(cb) {
    var configs = [];
    configs.push({
      sensor: 'climate',
      measurement: "temperature",
      value: $('input[name="temperature"]').val(),
      test: 'lt',
      actions: { relay: 'off' }
    });

    configs.push({
      sensor: 'climate',
      measurement: "temperature",
      value: $('input[name="temperature"]').val(),
      test: 'gt',
      actions: { relay: 'on' }
    });

    configs.push({
      sensor: 'climate',
      measurement: "humidity",
      value: $('input[name="humidity"]').val(),
      test: 'lt',
      actions: { servo1: 0.4 }
    });

    configs.push({
      sensor: 'climate',
      measurement: "humidity",
      value: $('input[name="humidity"]').val(),
      test: 'gt',
      actions: { servo1: 0 }
    });

    configResults = configs.map(function(config) {
      return $.ajax({
        url: '/api/config',
        method: 'put',
        data: config
      });
    });

    $.when.apply($, configResults).then(cb);
  }

  $(function() {
    $('input[name="temperature"]').on('change', function(event){
      $('span.temperature').text(event.target.value);
    });

    $('input[name="humidity"]').on('change', function(event){
      $('span.humidity').text(event.target.value);
    });

    $('#go').on('click', function() {
      submitConfig(function() { window.location.href = '/go'; });
    });
  });

form
  div.controls
    div
      label Temperature
      span.temperature 20
      br
      span 10
      input[type="range" placeholder="temperature" name="temperature" min="10" max="35" step="1" value="20"]
      span 35

    div
      label Humidity
      span.humidity 90
      br
      span 0
      input[type="range" placeholder="humidity" name="humidity" min="0" max="100" step="1" value="90"]
      span 100

a#go(href='#') Start using your Hume!
